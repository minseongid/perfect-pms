<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¼ëª…ì„¸ - 1í™”</title>
    <style>
        body { 
            margin: 0; 
            background-color: #ffffff; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            font-family: 'Pretendard', -apple-system, sans-serif;
        }

        /* 1. ìƒë‹¨ í—¤ë” ë°” ê°œì„ : ê³ ì • ë°©ì‹ ë³€ê²½ ë° ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ */
        .top-bar {
            position: fixed; /* sticky ëŒ€ì‹  fixedë¡œ ë³€ê²½í•˜ì—¬ ì œì–´ */
            top: 0; 
            width: 100%; 
            height: 50px;
            background-color: rgba(255, 255, 255, 0.95); /* ì‚´ì§ íˆ¬ëª…í•˜ê²Œ ë³€ê²½ */
            border-bottom: 1px solid #eeeeee;
            display: flex; 
            align-items: center; 
            justify-content: center;
            z-index: 100;
            transition: top 0.3s ease-in-out; /* ë¶€ë“œëŸ½ê²Œ ì‚¬ë¼ì§€ê³  ë‚˜íƒ€ë‚¨ */
        }
        
        /* í—¤ë”ê°€ ìˆ¨ê²¨ì§ˆ ë•Œ ì‚¬ìš©í•  í´ë˜ìŠ¤ */
        .top-bar.hide {
            top: -55px; 
        }

        .top-bar .title { font-weight: bold; font-size: 1rem; color: #111; }

        .audio-control {
            position: fixed; top: 60px; right: 15px; z-index: 1001;
            background: rgba(255, 255, 255, 0.9); border-radius: 50%;
            width: 40px; height: 40px; display: flex; align-items: center;
            justify-content: center; cursor: pointer; border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-size: 1.2rem;
            transition: opacity 0.3s; /* ìŒì•… ë²„íŠ¼ë„ ìì—°ìŠ¤ëŸ½ê²Œ */
        }

        /* 2. ì´ë¯¸ì§€ ì˜ì—­: í—¤ë”ê°€ fixedì´ë¯€ë¡œ ìƒë‹¨ ì—¬ë°± ì¶”ê°€ */
        .viewer-content {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            padding-top: 50px; /* í—¤ë” ë†’ì´ë§Œí¼ ë„ì›Œì¤Œ */
        }
        img { 
            width: 100%; 
            display: block; 
            border: none;
        }

        .nav-bar {
            display: flex;
            gap: 10px;
            margin: 60px 0;
            width: 90%;
            max-width: 400px;
        }
        .nav-btn {
            flex: 1;
            padding: 15px 0;
            text-align: center;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.95rem;
            border-radius: 6px;
            transition: all 0.2s;
        }
        .btn-list { background-color: #f4f4f4; color: #666; }
        .btn-next { background-color: #00D564; color: #ffffff; }
        .nav-btn:active { transform: scale(0.97); }
        .hidden { display: none; }
    </style>
</head>
<body>

    <audio id="myAudio" loop>
        <source src="bgm.mp3" type="audio/mpeg">
    </audio>

    <div class="audio-control" id="audioBtn" onclick="toggleAudio()">ğŸµ</div>

    <div class="top-bar" id="topBar">
        <div class="title">1í™”</div>
    </div>

    <div class="viewer-content">
        <img src="01.jpg">
        <img src="02.jpg">
        <img src="03.jpg">
        <img src="04.jpg">
    </div>

    <div class="nav-bar">
        <a href="../index.html" class="nav-btn btn-list">ëª©ë¡ìœ¼ë¡œ</a>
        <a href="../ep2/" class="nav-btn btn-next hidden">ë‹¤ìŒí™”</a>
    </div>

    <script>
        var audio = document.getElementById("myAudio");
        var audioBtn = document.getElementById("audioBtn");
        var topBar = document.getElementById("topBar");
        var lastScrollTop = 0;

        // 1. ìŠ¤í¬ë¡¤ ê°ì§€í•˜ì—¬ í—¤ë” ìˆ¨ê¸°ê¸°/ë³´ì´ê¸°
        window.addEventListener("scroll", function() {
            var currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            
            if (currentScroll > lastScrollTop && currentScroll > 100) {
                // ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ ì¤‘ -> í—¤ë” ìˆ¨ê¹€
                topBar.classList.add("hide");
            } else {
                // ìœ„ë¡œ ìŠ¤í¬ë¡¤ ì¤‘ -> í—¤ë” ë‚˜íƒ€ë‚¨
                topBar.classList.remove("hide");
            }
            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        }, false);

        // 2. ìŒì•… ì¬ìƒ ë¡œì§
        window.onload = function() {
            audio.volume = 0.5;
            var playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    console.log("ìë™ ì¬ìƒ ì°¨ë‹¨");
                    audioBtn.innerText = "ğŸ”‡";
                });
            }
        }

        function toggleAudio() {
            if (audio.paused) {
                audio.play();
                audioBtn.innerText = "ğŸµ";
            } else {
                audio.pause();
                audioBtn.innerText = "ğŸ”‡";
            }
        }
    </script>
</body>
</html>
